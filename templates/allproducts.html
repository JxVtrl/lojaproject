{% extends 'base.html' %} {% block content %}

<div class="container">
  <h1 class="text-center">Produtos por categoria</h1>

  {% for cat in todascategorias %}
    <h1 class="mt-5">{{cat.titulo}}</h1>

    <div class="row mt-3">
      {% for p in cat.produto_set.all %}
      <div
        class="d-flex flex-column col-md-4 shadow p-5 rounded m-5 overflow-hidden"
      >
        <h4 class="text-center">
          <a
            href="{% url 'lojaapp:produtodetalhe' p.slug %}"
            style="text-decoration: none"
            class="text-black"
            >{{p.titulo}}
          </a>
        </h4>
        <img
          src="{{p.imagem.url}}"
          class="img-fluid w-100"
          alt="{{p.titulo}}"
          style="height: 150px; object-fit: contain"
        />
        <div class="d-flex justify-content-between">
          <p class="mt-3">A partir de R$ {{p.venda}},00</p>
          
          
          <a 
            href="{% url 'lojaapp:addcarro' p.id%}" 
            class="btn btn-success align-self-center"
            style="height: 40px; width: 100px; font-size: 15px"
          >
            Comprar
          </a>
        </div>
      </div>
      {% endfor%}
    </div>
  {% endfor%}
</div>
{% endblock%}
